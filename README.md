# Consist. ⏱🚫

A smart Chrome extension that blocks distracting content (like gaming videos on YouTube) while helping you stay focused with a built-in Pomodoro timer.

---

## 💡 Features

- Smart content filtering (e.g., allows study/music videos, blocks gaming)
- Pomodoro timer with automatic blocking/unblocking during focus/break
- Gemini API integration for advanced content classification
- Focus and break durations configurable via Settings
- Dark mode toggle support
- User login via Auth0
- Performance dashboard with bar and donut charts
- Supports dynamic URL changes on platforms like YouTube

---

## 🛠 Tech Stack

- ⚛️ React (for UI)
- ⚡ Vite (for fast builds)
- 🧩 Manifest V3 (Chrome Extension framework)
- 🤖 Gemini API (for classifying page content)
- 🔐 Auth0 (for user authentication)
- 📊 Recharts (for performance charts)

---

## 🚀 Getting Started

### 1. Clone the repo

```bash
git clone https://github.com/choshingcheung/consist..git
cd consist.
```

### 2. Install dependencies

```bash
npm install
```

This will install:

- `react`, `react-dom`
- `vite`, `@vitejs/plugin-react`
- `@auth0/auth0-react`
- `recharts`

If you're missing `recharts` or `auth0`, run:

```bash
npm install @auth0/auth0-react recharts
```

### 3. Build the extension

```bash
npm run build
```

---

## 🧪 Running Locally (For Development)

1. Open `chrome://extensions/` in Chrome.
2. Enable **Developer Mode** (top right).
3. Click **Load unpacked** and select the `dist/` folder generated by the build.

---

## 🔑 Auth0 Setup

Make sure you have your [Auth0 Application](https://auth0.com/) created and configured:

**`.env` example:**

```env
VITE_AUTH0_DOMAIN=your-auth0-domain
VITE_AUTH0_CLIENT_ID=your-client-id
VITE_API_KEY=your-gemini-api-key
```

> Add your Auth0 callback URLs to the settings page of your Auth0 application (e.g., `http://localhost:5173/login.html` or the extension `chrome-extension://.../login.html` after deployment).

---

## 📝 Notes

- The Pomodoro timer is persisted across popup/landing/settings pages using `chrome.storage`.
- Blocking state is automatically enabled in focus mode and turned off in break mode.
- A blur overlay hides distracting content during focus periods.
- Performance data is visualized weekly and displayed in both bar and donut formats.

---

## 📁 Project Structure

```
├── popup.html / landing.html / settings.html / login.html
├── src/
│   ├── popup/         # Pomodoro popup UI
│   ├── landing/       # Full-screen timer
│   ├── settings/      # User configuration
│   ├── login/         # Auth0 login handler
│   ├── performance/   # Focus performance charts
│   ├── background/    # Timer and messaging logic
│   ├── content/       # Content analysis and blocking
│   └── utils/         # Gemini API interface
└── vite.config.js
```

---

## 📬 License

MIT License